# ==============================================================================
# templates/secrets.yaml
# ==============================================================================
# Note: Secrets are generated by the pre-install hook job (secret-generator-job.yaml)
# This template is only used if existingSecret is specified
{{- if .Values.existingSecret }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.existingSecret }}
  labels: {{ include "openslides.labels" . | nindent 4 }}
type: Opaque
data:
  auth_token_key: {{ .Values.secrets.authTokenKey | b64enc }}
  auth_cookie_key: {{ .Values.secrets.authCookieKey | b64enc }}
  internal_auth_password: {{ .Values.secrets.internalAuthPassword | b64enc }}
  manage_auth_password: {{ .Values.secrets.manageAuthPassword | b64enc }}
  superadmin: {{ .Values.secrets.superadmin | b64enc }}
  postgres_password: {{ .Values.secrets.postgresPassword | b64enc }}
  email_password: {{ .Values.secrets.emailPassword | b64enc }}
{{- end }}

